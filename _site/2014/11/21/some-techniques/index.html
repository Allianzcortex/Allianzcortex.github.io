<!DOCTYPE html>

<html lang="en">

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  
  
  <title>Mumbler About Techonology(Continually updated)</title>
  <meta name="description" content="Mumblers about technology…too short to write a novel 这篇文章对应的中文版 About crypto,mainly I want to discuss the Bitcoin arbitrage,Bitcoin storage, instability of external exchanges(such as binance),relationship between concept、code and white paper My bitcoin address is :1KAYM9K6M6Cp7RJwwr4K1m59ETPxB6o8n4 Below is tredency of EOS: I reviewed Angular yesterday and found a fantastic project which clearly states the logic of the FE framework.But Recently I’m writing java dedipher code,the initial part is written in Java： private static byte[] decrypt(byte[] data, byte[] key) throws Exception { SecureRandom sr = new SecureRandom(); DESKeySpec dks = new DESKeySpec(key); SecretKeyFactory keyFactory = SecretKeyFactory.getInstance(&quot;DES&quot;); SecretKey securekey = keyFactory.generateSecret(dks); Cipher cipher = Cipher.getInstance(&quot;DES&quot;); cipher.init(2, securekey, sr); return cipher.doFinal(data); } I need to translate it into Python.Thanks for decrypt ，It can be implemented in 2 lines: def decrypt_des(input_): &quot;&quot;&quot; :param input_: ciphered text :return: DES deciphered text &quot;&quot;&quot; des = DES.new(&quot;naidnefi&quot;, DES.MODE_ECB) return &quot;&quot;.join(x for x in des.decrypt(b64decode(input_)) if 31 &amp;lt; ord(x) &amp;lt; 127) But the result contains much ‘\x5’，you can review ascii to get the exact meaning,solution is based on this link remove-special-characters-from-the-string Today I helped the algorithm team debug…weired… It was very troublesome to deal with Chinese with Python2, especially when using regular rules to adjust. After debugging a lot of unicode characters, It can finally run… The phenomenon is it can run in the test server , but cannot run in the online server. Finally, I found this ucs-2-or-ucs-4. So the reason is that test server is compiled with ucs4, while online server is compiled with ucs2. subscribe the blog via IFTTT successfully,it can send the new blog into your email Helping others to search for a foursquare data set. The starting link address is at dateset, but the link is invalid. If you search with Google, you can find a reddit post in the corner of the page foursquare_data_set, which provides downloadable zip file,about 150M+. The most common function in StringUtils of Java is to make the first letter lowercase, which is usually implemented as this:. There is an elegant answer in SO: char c[] = string.toCharArray(); c[0] = Character.toLowerCase(c[0]); string = new String(c); A tradeoff between performance and readability. Curator is a open source tool by Linkedin for zookeeper encapsulation that provides a variety of handy features, including updating configuration files and selecting leader nodes. There is an implementation on Spark.Corresponding code link is : spark/core/src/main/scala/org/apache/spark/deploy/master/ZooKeeperPersistenceEngine.scala Some records. ETL means Extract-&amp;gt;Transform-&amp;gt;Load HDFS Data always comes from： Import from existing RDBMS database for business analysis.An example of the first tool is Sqoop from Apache. Connect and sample from existing HDFS data to generate new composite data Some other ways, including writing from HDF Sink in Flume, or using hadoop fs -put to import local files into HDFS The second tool in most cases uses Hive to meet the requirements. Hive is a tool from FaceBook that converts HQL (SQL-like syntax) into MapReduce implementations for data analysts to manipulate. It actually is the symbol of the distributed SQL.There are many projetcts that are trying to do the distributed SQL query,such as Spark with scala and TiDB with golang.But the basic steps are same,converting the AST(Abstarct Syntax Tree) into LogicalPlanner and execute it in multiple nodes. Tthe scheduling system is also attractive. In principle, you just neet to write the execution script, set up the timing task directly with crontab. But on the one hand, we have to manage multiple scripts as the volume of business increases. On the other hand, we want to add progress reminders, logs view, failure retry, email alerts, and manage multiple interdependent tasks. In this case, Ozzie/Azkaban/Airflow and other projects are always best choices. How to implement the join/left join/right join in MapReduce ? you can review this question How-does-Hive-implement-joins-in-Map-Reduce.There are two cases:Map-side and Reduce-side.Usually you can use ArrayList to store MultiInput,but the obvious flaw is that the system will crash or hang when data are intensive. Trying to use GitLab CI today.It is not much different from Github’s travis-CI(distinguished by stages:build/deploy) in terms of personal experience. But the problem happens below: Based on link,you need to install runner and Gitlab at the same server. Record my .gitlab-ci.yml script: before_script: - sudo yum install maven2 stages: - build build_job: stage: build script: - mvn install - mvn &#39;-Dtest=com.xxx.example.*Test&#39; test mvn &#39;-Dtest=com.xxx.example.*Test&#39; test is used to run all unit test in one package. Discovering that after IDEA is configured, you can’t use Socks5 to download SBT dependencies…After a few hours of trial,I give up to find the reason but to add -Dhttps.proxyHost=127.0.0.1 -Dhttps.proxyPort=8080 in the SBT.Anyway it works…… When debugging the Spark Streaming program in the Spark source code on your laptop, you need to change the corresponding VM Options to -Dspark.master=local[2], otherwise there will be an error like netword connection refused One of the most important features of a distributed system is that CAP cannot be met at the same time. The first link Google found was [Quora’s answer] (https://www.quora.com/Can-someone-provide-an-intuitive-proof-explanation-of-CAP-theorem), which mentioned a Very good [InfoQ article] (https://www.infoq.com/articles/cap-twelve-years-later-how-the-rules-have-changed), let me try to re-explain it. C refers to Consistency, A refers to Availability, and P refers to Partition Tolerance. Always we have to ensure that multiple nodes are running(preventing SPOF, so P is definitely to be satisfied. For C and A, you can only choose one, for example: A cluster has two machines, A and B (here simplified for the sake of example, in production environments it is usually required to be odd bigger than 1). Whenever A/B has data written, it will be synchronized on B/A at the same time. But suddenly the network connection has failed and communication between A and B is not possible. At this time, for A, there are two options: In order to maintain consistency, external requests should not be accepted to ensure that data does not change, and availability cannot be met. In order to maintain availability and continue to accept requests, the data on the two machines will be inconsistent, and consistency will not be met. At this time, most of the choices are to maintain external availability. The two machines continue to provide services to the outside world. When the communication can continue, the data is synchronized(you need a replication tool to achieve it,such as binlog of MySQL) .Thereby maintaining the eventual consistency. There are several concepts when measuring the availability of a system, one is X 9. described as follows: 3 9: (1-99.9%) * 365 * 24 = 8.76 hours: Indicates that the most likely business interruption time of the software system during continuous operation for one year is 8.76 hours. 4 9:(1-99.99%)36524=0.876 hours=52.6 minutes: Indicates that the most likely business interruption time of the software system during continuous operation for 1 year is 52.6 minutes. 5 9: (1-99.999%) * 365 * 24 * 60 = 5.26 minutes: Indicates that the most likely business interruption time of the software system during continuous operation for one year is 5.26 minutes. I recently wrote a MapReduce program that parses out a bunch of variables to produce a string. Although I know there is a join method in the Guava library, and hasNext() is used to avoid the implementation of the delimiter at the end , but it is not proper to import a jar package for such a small function.I try to implement one: public static String join(Character separator, String... input) { if (input == null || input.length &amp;lt; 1) throw new IllegalArgumentException(&quot;the input is illegal,check wheteris it&#39;s null or empty&quot;); String _separator = String.valueOf(separator); StringBuilder res = new StringBuilder(); for (String elem : input) res.append(elem).append(_separator); res.deleteCharAt(res.length() - 1); return res.toString(); } If the log file is too large, it should be processed. If it is me, I would write a Python/Golang script.But today I was taught a new skill.You can just edit /etc/logrotate.conf file under Linux. compressing,Removing,time settings, various features… I’ve been reading JStorm source code recently, and there’s a block of code like this…kill the process 5 times…make sure the process be killed definitely(??? public static void ensure_process_killed(Integer pid) { // in this function, just kill the process 5 times // make sure the process be killed definitely for (int i = 0; i &amp;lt; 5; i++) { try { exec_command(&quot;kill -9 &quot; + pid); LOG.info(&quot;kill -9 process &quot; + pid); sleepMs(100); } catch (ExecuteException e) { LOG.info(&quot;Error when trying to kill &quot; + pid + &quot;. Process has been killed&quot;); } catch (Exception e) { LOG.info(&quot;Error when trying to kill &quot; + pid + &quot;.Exception &quot;, e); } } } The two concepts of concurrency and parallelism are often confused.Having a summary about it: concurrency is for the design of the program. (concurrency as a property of a program or system), a well-designed concurrent program allows the program to perform different tasks in overlapping time periods. Parallelism refers to the parallelism as the run-time behaviour of the multiple tasks at the same time. So if a concurrent program runs on a single cpu machine, it is still concurrent, but not parallel. This Chinese article that explains the best is in [here] (https://laike9m.com/blog/huan-zai-yi-huo-bing-fa-he-bing-xing), English novel is a talk about Go language slide There is a 600M+ CSV file, because I need to experiment with conversion reads, so just splitting it by size. But after that, the file is garbled and can’t be presented in a proper way. head -10 read out is fine. I also suspect that I didn’t add a suffix, but the text file is not binary file…finally I realized that I shouldn’t divide it by size… I should use split -l to divide by line so it is conveniet for subquent merge. Using numpy.asarray() and numpy.fromarray() to convert between the image and the matrix. Adding random number interference in the middle will make the font distorted, but this is more suitable for the recognition of handwriting. If it is a print for the photo, the appropriate method is to rotate a certain angle with rotate(). But there will be some black space, so just use crop() to intercept it. Although requests have been used all the time, I realize it today: requests-code-read-content-auto-encode. The principle of chardet recognition encoding was also mentioned in the 《Fluent Python》 before, based on the frequency of occurrence of the character prefix. In [7]: chardet.detect(&#39;No longer plagued by coding problems 2333ShakaLaka!!!&#39;.encode(&#39;GBK&#39;)) Out[7]: {&#39;confidence&#39;: 0.99, &#39;encoding&#39;: &#39;GB2312&#39;} There is a user option under the supervisor project configuration to choose which user to start the command with. But you must use the root account to start the supervisor. Previously, this file was created with a Windows text editor instead of notepad++,newline is represented with ‘\r\n’;and newLine in Linux is represented with ‘\n’. In other words, Unix uses 0xA for a newline character. Windows uses a combination of two characters: 0xD 0xA. 0xD is the carriage return character. ^M happens to be the way vim displays 0xD. (Refer to [this] (http://stackoverflow.com/questions/5843495/what-does-m-character-mean-in-vim)). The solution in the context of Py2 is to read it and then use strip() to process it once. Kafka’s UI is installed, and the final selection is Yahoo’s Kafka Manager. But it uses JDK8 … detecting the amount of message per unit time. The final interface is okay, that is, the strong Bootstrap style: If you want to delete log files,rm -rf &amp;amp;&amp;amp; touch is not a good choise.Using &amp;gt; ToDelete.log instead Recently we use a plugin [elasticsearch-sql] (https://github.com/NLPchina/elasticsearch-sql) so querying the ES in the same way as sql is possible. But if you do not specify the number of limit when using select query, the default is always 200 There was a question.Recently I’m just learning Scala,So I tried to solve it: var boyfriendList = Array.fill(12)(0) def calculate(total:Int=0,freq:Int=0):Int = total match { // Using Pattern Matching case 12 =&amp;gt; { println(s&quot;Total number is $freq &quot;) freq } case _ =&amp;gt; { boyfriendList(nextInt(12)) = 1 calculate(boyfriendList.sum,freq+1) } } object Application extends App { var boyfriendList = Array.fill(12)(0) var index = 1 var count = 0 while(index&amp;lt;=50){ boyfriendList = Array.fill(12)(0) count += calculate() index += 1 } println(sum.toFloat/50) // 34.64 The group is discussing a problem about catching crawlers. Some people mentioned that they can simulate a search engine and searched for it…it is really reasonable, see this article [Google Crawler] (https://support.google.com/ Webmasters/answer/1061943?hl=en) , configure UA to Mozilla/5.0 (compatible; Googlebot/2.1; +http://www.google.com/bot.html) In Python 2.6, an output statement print &#39;{}&#39;.format(1) will report an error, indicating ValueError: zero length field name in format.You must indicate the order, print &#39;{0}&#39;.format(1) . Ah… even 2.7 and 2.6 can’t be fully compatible There is a very interesting question today. The logging is in the form of pageName&amp;amp;{key1:value1,key2:value2}. Usually, spliting(“&amp;amp;”)[1] is used to get the JSON string and then using get_json_object to check it. However, if there is more than one “&amp;amp;” in the value provided (such as the url containing the parameter), then the separator will produce a string with only &quot;&quot;.So I wrote a UDF:User Defined Function to make the program robust. /** * * input:String * output:JSON-like Object */ import org.apache.hadoop.hive.ql.exec.UDF; public class dealJSONWithUrl extends UDF { // handling cases where url contains &amp;amp; can&#39;t be split with split(&quot;&amp;amp;&quot;) public String evaluate(String input) { if (!input.contains(&quot;&amp;amp;&quot;)) return input; String[] temp = input.split(&quot;&amp;amp;&quot;); StringBuilder builder = new StringBuilder(); for (int i = 1; i &amp;lt; temp.length; i++) { if (i != temp.length - 1) builder.append(temp[i]).append(&quot;&amp;amp;&quot;); else builder.append(temp[i]); } return builder.toString(); } } There are always some very tricky issues with crontab… Today my case is to use redis-cli to operate some instructions . When using the data, you can’t use redis-cli directly in the shell script, but you must use the Absolute path. there was also a Python program which always didn’t work properly. The final reason is because os.chdir(&#39;..&#39;) is used in script file. You need to use cd to enter into the target directory at first. There are a lot of people who have stepped on this pit…such as unable-to-execute-a-python-script-via-crontab-but-can-execute-it-manually-what-gives…The ability to specify Directory in supervisor is so wonderful by contrast For a while, the Sogou input method will inexplicably collapse, and suddenly it is impossible to input Chinese. I am uncapable of analyzing the source code,so just write a script likealias sogou=&#39;pkill sogou-qimpanel &amp;amp;&amp;amp; fcitx &amp;amp;&amp;amp; sogou-qimpanel&amp;amp;&#39; restart when there is a crash Using row_number() over to query group，and identifying it by row_id In the past I always use ssh-copy-id to configure password-free login, generally set an alias in bash, such as ssh-75=&#39;ssh root@10.10.8.75&#39;.today I learned a new skill today,you can directly match a config file in ~/.ssh.. Take a look at create-ssh-config-file-on-linux-unit The favorite command line tool on ubuntu is guake, using F12 to call it with a single click, and using tmux to split screen.They are perfect couples. sometimes guake will suddenly become blank It’s fine to kill the process at this time, and some of the programs that were run before will still run. Of course, Programs like shadowsocks will remind you that the port is occupied, but openvpn will not tell you there is already an instance running.Reopening one will make you be kicked on the server… using a function of pip today.Downloading all the dependencies of the project and did not install it: pip install --download /path module_name,after uploading the file into a non-network-connect server, execute pip insall --no-index -f /path module_name to install It is also a problem with Hive time….. When the unix_timestamp is converted, if the time format is like 2016-06-27 11:00, because there is no second, it is actually impossible to convert. But it will not report an error when it is queried, so it will never have a satisfactory result. one solution is to query after using concat() to connect to &#39;:&#39;, &#39;00&#39; which will not affect the time. Java’s jedis can only use select to select the library after getResource() gets the instance, but Python’s redis client can be specified in the constructor. For Hive,if there are different time formats on different tables,you should convert like this:from_unixtime(unix_timestamp(&#39;20160521&#39;,&#39;yyyyMMdd&#39;),&#39;yyyy-MM-dd&#39;) Writing a script that simulates logging into the Academic Affairs Office. After downloading the verification code and entering it into the command line… There is no flag that clearly shows the login result. Finally, I found that I can use the Content-Type of the return header to judge. if suffix is gb2312 , logging is successful;if suffix is GBK,if failed. I wanted to analyze the class list again, but found that the result of the post request is a js function…so difficult to be parsed.And its login logic is not complete. After filling in a verification code, you can try to log in multiple times. According to initial rules, if you still have a six-digit password, you can definitely break the password after running up to 1000000 times, Installing Ubuntu image on VMWare encountered the problem that the desktop could not display the sidebar and top bar. Finally, it was solved by ccsm (sudo apt-get install ccsm, execute the software, and select Unity, execute, shutdown and restart) Previously, when using Intellij IDEA and Pycharm, the theme from Intellij theme has been used. Although the color matching is very good, it still has a gap with Sublime Text. I modified the color of the Line Comment, changing it to RGB (138, 130, 107).The color of the comment is light gray, and it is easier to distinguish it from the text. Sending an email to the original author,the email is sent back in seconds. Jkeyll even does not support the categories/tags collection under Pagination Pagination does not support tags or categories.Pagination pages through every post in the posts variable regardless of variables defined in the YAML Front Matter of each. It does not currently allow paging over groups of posts linked by a common tag or category. It cannot include any collection of documents because it is restricted to posts.">
  

  <link rel="stylesheet" href="/assets/main.css">
  <link rel="canonical" href="http://localhost:4000/2014/11/21/some-techniques/">
  
  
  <link rel="alternate" type="application/rss+xml" title="Allianzcortex-Blog" href="http://localhost:4000/feed.xml">

  

  
  <meta name="twitter:card" content="summary">
  <meta name="twitter:site" content="hzcortex">
  <meta name="twitter:title" content="Mumbler About Techonology(Continually updated)">
  <meta name="twitter:description" content="Mumblers about technology…too short to write a novel 这篇文章对应的中文版 About crypto,mainly I want to discuss the Bitcoin arbitrage,Bitcoin storage, instability of external exchanges(such as binance),relat...">
  
    <meta name="twitter:creator" content="hzcortex">
  
  

  <script type="text/javascript">
  WebFontConfig = {
    google: { families: [ 'Bitter:400,700,400italic:latin' ] }
  };
  (function() {
    var wf = document.createElement('script');
    wf.src = ('https:' == document.location.protocol ? 'https' : 'http') +
      '://ajax.googleapis.com/ajax/libs/webfont/1/webfont.js';
    wf.type = 'text/javascript';
    wf.async = 'true';
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(wf, s);
  })();
</script>

  

</head>


  <body>

    <header class="site-header">

  <div class="wrapper">

    <a class="site-title" href="/">Allianzcortex-Blog</a>

    <nav class="site-nav">
      
        
        <a class="page-link" href="/archives/">Archives</a>
      
        
        <a class="page-link" href="/projects/">Projects</a>
      
        
        <a class="page-link" href="/about/">About</a>
      
        
        <a class="page-link" href="/board/">board</a>
      
        
        <a class="page-link" href="/feed.xml">RSS</a>
      
    </nav>

  </div>

</header>


    <main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    
      <h1 class="post-title" itemprop="name headline">Mumbler About Techonology(Continually updated)</h1>
    
    <p class="post-meta"><time datetime="2014-11-21T15:40:01-04:00" itemprop="datePublished">Nov 21, 2014</time> • 
  
  

</p>
  </header>

  <div class="post-content" itemprop="articleBody">
    <p>Mumblers about technology…too short to write a novel</p>

<!-- more -->

<p><a href="/../translation/2014-11-21-some-techniques.html">这篇文章对应的中文版</a></p>

<p>About crypto,mainly I want to discuss the <code class="highlighter-rouge">Bitcoin arbitrage</code>,<code class="highlighter-rouge">Bitcoin storage, instability of external exchanges(such as binance)</code>,<code class="highlighter-rouge">relationship between concept、code and white paper</code></p>

<p>My bitcoin address is :<strong>1KAYM9K6M6Cp7RJwwr4K1m59ETPxB6o8n4</strong></p>

<p>Below is tredency of <code class="highlighter-rouge">EOS</code>:</p>

<p><img src="/images/EOS.jpg" alt="EOS.png" /></p>

<hr />

<p>I reviewed <code class="highlighter-rouge">Angular</code> yesterday and found a fantastic project which clearly states the logic of the FE framework.But</p>

<hr />

<p>Recently I’m writing java dedipher code,the initial part is written in Java：</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"> <span class="kd">private</span> <span class="kd">static</span> <span class="kt">byte</span><span class="o">[]</span> <span class="nf">decrypt</span><span class="o">(</span><span class="kt">byte</span><span class="o">[]</span> <span class="n">data</span><span class="o">,</span> <span class="kt">byte</span><span class="o">[]</span> <span class="n">key</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">Exception</span> <span class="o">{</span>
        <span class="n">SecureRandom</span> <span class="n">sr</span> <span class="o">=</span> <span class="k">new</span> <span class="n">SecureRandom</span><span class="o">();</span>
        <span class="n">DESKeySpec</span> <span class="n">dks</span> <span class="o">=</span> <span class="k">new</span> <span class="n">DESKeySpec</span><span class="o">(</span><span class="n">key</span><span class="o">);</span>
        <span class="n">SecretKeyFactory</span> <span class="n">keyFactory</span> <span class="o">=</span> <span class="n">SecretKeyFactory</span><span class="o">.</span><span class="na">getInstance</span><span class="o">(</span><span class="s">"DES"</span><span class="o">);</span>
        <span class="n">SecretKey</span> <span class="n">securekey</span> <span class="o">=</span> <span class="n">keyFactory</span><span class="o">.</span><span class="na">generateSecret</span><span class="o">(</span><span class="n">dks</span><span class="o">);</span>
        <span class="n">Cipher</span> <span class="n">cipher</span> <span class="o">=</span> <span class="n">Cipher</span><span class="o">.</span><span class="na">getInstance</span><span class="o">(</span><span class="s">"DES"</span><span class="o">);</span>
        <span class="n">cipher</span><span class="o">.</span><span class="na">init</span><span class="o">(</span><span class="mi">2</span><span class="o">,</span> <span class="n">securekey</span><span class="o">,</span> <span class="n">sr</span><span class="o">);</span>
        <span class="k">return</span> <span class="n">cipher</span><span class="o">.</span><span class="na">doFinal</span><span class="o">(</span><span class="n">data</span><span class="o">);</span>
    <span class="o">}</span></code></pre></figure>

<p>I need to translate it into Python.Thanks for <a href="https://www.tools4noobs.com/online_tools/decrypt/">decrypt</a> ，It can be implemented in 2 lines:</p>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="k">def</span> <span class="nf">decrypt_des</span><span class="p">(</span><span class="n">input_</span><span class="p">):</span>
    <span class="s">"""
    :param input_: ciphered text
    :return: DES deciphered text
    """</span>
    <span class="n">des</span> <span class="o">=</span> <span class="n">DES</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="s">"naidnefi"</span><span class="p">,</span> <span class="n">DES</span><span class="o">.</span><span class="n">MODE_ECB</span><span class="p">)</span>
    <span class="k">return</span> <span class="s">""</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">des</span><span class="o">.</span><span class="n">decrypt</span><span class="p">(</span><span class="n">b64decode</span><span class="p">(</span><span class="n">input_</span><span class="p">))</span> <span class="k">if</span> <span class="mi">31</span> <span class="o">&lt;</span> <span class="nb">ord</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">127</span><span class="p">)</span></code></pre></figure>

<p>But the result contains much ‘\x5’，you can review <a href="http://donsnotes.com/tech/charsets/ascii.html">ascii</a> to get the exact meaning,solution is based on this link <a href="https://stackoverflow.com/questions/14256593/remove-special-characters-from-the-string">remove-special-characters-from-the-string</a></p>

<hr />

<p>Today I helped the algorithm team debug…weired… It was very troublesome to deal with Chinese with Python2, especially when using regular rules to adjust. After debugging a lot of unicode characters, It can finally run… The phenomenon is it can run in the test server , but cannot run in  the online server. Finally, I found this                                                <a href="https://stackoverflow.com/questions/1446347/how-to-find-out-if-python-is-compiled-with-ucs-2-or-ucs-4">ucs-2-or-ucs-4</a>. So the reason is that test server is compiled with ucs4, while online server is compiled with ucs2.</p>

<hr />

<p>subscribe the blog via <strong>IFTTT</strong> successfully,it can send the new blog into your email 
<img src="/images/rss.png" alt="rss.png" /></p>

<hr />

<p>Helping others to search for a foursquare data set. The starting link address is at <a href="http://www.public.asu.edu/~hgao16/dataset.html">dateset</a>, but the link is invalid. If you search with Google, you can find a reddit post in the corner of the page <a href="https://www.reddit .com/r/datasets/comments/1nywu2/foursquare_data_set/">foursquare_data_set</a>, which provides downloadable zip file,about 150M+.</p>

<hr />

<p>The most common function in StringUtils of Java is to make the first letter lowercase, which is usually implemented as this:.</p>

<p>There is an elegant answer in SO:</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="kt">char</span> <span class="n">c</span><span class="o">[]</span> <span class="o">=</span> <span class="n">string</span><span class="o">.</span><span class="na">toCharArray</span><span class="o">();</span>
<span class="n">c</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span> <span class="o">=</span> <span class="n">Character</span><span class="o">.</span><span class="na">toLowerCase</span><span class="o">(</span><span class="n">c</span><span class="o">[</span><span class="mi">0</span><span class="o">]);</span>
<span class="n">string</span> <span class="o">=</span> <span class="k">new</span> <span class="n">String</span><span class="o">(</span><span class="n">c</span><span class="o">);</span></code></pre></figure>

<p>A tradeoff between performance and readability.</p>

<hr />

<p>Curator is a open source tool by Linkedin for zookeeper encapsulation that provides a variety of handy features, including updating configuration files and selecting leader nodes. There is an implementation on Spark.Corresponding code link is : <code class="highlighter-rouge">spark/core/src/main/scala/org/apache/spark/deploy/master/ZooKeeperPersistenceEngine.scala</code></p>

<hr />

<p>Some records.</p>

<p><strong>ETL</strong> means <strong>Extract-&gt;Transform-&gt;Load</strong></p>

<p>HDFS Data always comes from：</p>

<ul>
  <li>
    <p>Import from existing RDBMS database for business analysis.An example of the first tool is <a href="">Sqoop</a> from Apache.</p>
  </li>
  <li>
    <p>Connect and sample from existing HDFS data to generate new composite data</p>
  </li>
  <li>
    <p>Some other ways, including writing from HDF Sink in Flume, or using <code class="highlighter-rouge">hadoop fs -put</code> to import local files into HDFS</p>
  </li>
</ul>

<p>The second tool in most cases uses Hive to meet the requirements. Hive is a tool from FaceBook that converts HQL (SQL-like syntax) into MapReduce implementations for data analysts to manipulate. It actually is the symbol of the distributed SQL.There are many projetcts that are trying to do the distributed SQL query,such as <a href="https://spark.apache.org/">Spark</a> with scala and <a href="https://www.pingcap.com/en/">TiDB</a> with golang.But the basic steps are same,converting the AST(Abstarct Syntax Tree) into LogicalPlanner and execute it in multiple nodes.</p>

<p>Tthe scheduling system is also attractive. In principle, you just neet to write the execution script, set up the timing task directly with crontab. But on the one hand, we have to manage multiple scripts as the volume of business increases. On the other hand, we want to add progress reminders, logs view, failure retry, email alerts, and manage multiple interdependent tasks. In this case, <strong>Ozzie/Azkaban/Airflow</strong> and other projects are always best choices.</p>

<hr />

<p>How to implement the <code class="highlighter-rouge">join/left join/right join</code> in MapReduce ? you can review this question <a href="https://www.quora.com/How-does-Hive-implement-joins-in-Map-Reduce">How-does-Hive-implement-joins-in-Map-Reduce</a>.There are two cases:<code class="highlighter-rouge">Map-side</code> and <code class="highlighter-rouge">Reduce-side</code>.Usually you can use ArrayList to store MultiInput,but the obvious flaw is that the system will crash or hang when data are intensive.</p>

<hr />

<p>Trying to use GitLab CI today.It is not much different from Github’s travis-CI(distinguished by stages:build/deploy) in terms of personal experience. But the  problem happens below:</p>

<p><img src="/images/build-failure.png" alt="build-failure.png" />
Based on <a href="https://docs.gitlab.com/runner/install/linux-repository.html">link</a>,you need to install <strong>runner</strong> and <strong>Gitlab</strong> at the same server.</p>

<p>Record my <code class="highlighter-rouge">.gitlab-ci.yml</code> script:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>before_script:
    - sudo yum install maven2

stages:
    - build

build_job:
    stage: build
    script:
      - mvn install
      - mvn '-Dtest=com.xxx.example.*Test' test
</code></pre>
</div>

<p><code class="highlighter-rouge">mvn '-Dtest=com.xxx.example.*Test' test</code> is used to run all unit test in one package.</p>

<hr />

<p>Discovering that after IDEA is configured, you can’t use Socks5 to download SBT dependencies…After a few hours of trial,I give up to find the reason but to add <code class="highlighter-rouge">-Dhttps.proxyHost=127.0.0.1 -Dhttps.proxyPort=8080</code> in the SBT.Anyway it works……</p>

<hr />

<p>When debugging the Spark Streaming program in the Spark source code on your laptop, you need to change the corresponding <strong>VM Options</strong> to <code class="highlighter-rouge">-Dspark.master=local[2]</code>, otherwise
there will be an error like  <strong>netword connection refused</strong></p>

<hr />

<p>One of the most important features of a distributed system is that <strong>CAP</strong> cannot be met at the same time. The first link Google found was [Quora’s answer] (https://www.quora.com/Can-someone-provide-an-intuitive-proof-explanation-of-CAP-theorem), which mentioned a Very good [InfoQ article] (https://www.infoq.com/articles/cap-twelve-years-later-how-the-rules-have-changed), let me try to re-explain it. <strong>C</strong> refers to <strong>Consistency</strong>, <strong>A</strong> refers to <strong>Availability</strong>, and <strong>P</strong> refers to <strong>Partition Tolerance</strong>. Always we have to ensure that multiple nodes are running(preventing <a href="https://en.wikipedia.org/wiki/Single_point_of_failure">SPOF</a>, so <strong>P</strong> is definitely to be satisfied. For <strong>C</strong> and <strong>A</strong>, you can only choose one, for example:</p>

<blockquote>
  <p>A cluster has two machines, A and B (here simplified for the sake of example, in production environments it is usually required to be odd bigger than 1).
Whenever A/B has data written, it will be synchronized on B/A at the same time.
But suddenly the network connection has failed and communication between A and B is not possible. At this time, for A, there are two options:</p>
</blockquote>

<ol>
  <li>
    <p>In order to maintain consistency, external requests should not be accepted to ensure that data does not change, and availability cannot be met.</p>
  </li>
  <li>
    <p>In order to maintain availability and continue to accept requests, the data on the two machines will be inconsistent, and consistency will not be met.</p>
  </li>
</ol>

<p>At this time, most of the choices are to maintain external availability. The two machines continue to provide services to the outside world. When the communication can continue, the data is synchronized(you need a replication tool to achieve it,such as binlog of MySQL) .Thereby maintaining the eventual consistency.</p>

<p><img src="/images/CAP.jpg" alt="CAP.jpg" /></p>

<hr />

<p>There are several concepts when measuring the availability of a system, one is <strong>X 9</strong>. described as follows:</p>

<blockquote>
  <p>3 9: (1-99.9%) * 365 * 24 = 8.76 hours:
Indicates that the most likely business interruption time of the software system during continuous operation for one year is 8.76 hours.
4 9:(1-99.99%)<em>365</em>24=0.876 hours=52.6 minutes:
Indicates that the most likely business interruption time of the software system during continuous operation for 1 year is 52.6 minutes.
5 9: (1-99.999%) * 365 * 24 * 60 = 5.26 minutes:
Indicates that the most likely business interruption time of the software system during continuous operation for one year is 5.26 minutes.</p>
</blockquote>

<hr />

<p>I recently wrote a MapReduce program that parses out a bunch of variables to produce a string. Although I know there is a <code class="highlighter-rouge">join</code> method in the <code class="highlighter-rouge">Guava</code> library, and <code class="highlighter-rouge">hasNext()</code> is used to avoid the implementation of the delimiter at the end , but it is not proper to import a jar package for such a small function.I try to implement one:</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">static</span> <span class="n">String</span> <span class="nf">join</span><span class="o">(</span><span class="n">Character</span> <span class="n">separator</span><span class="o">,</span> <span class="n">String</span><span class="o">...</span> <span class="n">input</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">input</span> <span class="o">==</span> <span class="kc">null</span> <span class="o">||</span> <span class="n">input</span><span class="o">.</span><span class="na">length</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="o">)</span>
            <span class="k">throw</span> <span class="k">new</span> <span class="nf">IllegalArgumentException</span><span class="o">(</span><span class="s">"the input is illegal,check wheteris it's null or empty"</span><span class="o">);</span>
        <span class="n">String</span> <span class="n">_separator</span> <span class="o">=</span> <span class="n">String</span><span class="o">.</span><span class="na">valueOf</span><span class="o">(</span><span class="n">separator</span><span class="o">);</span>
        <span class="n">StringBuilder</span> <span class="n">res</span> <span class="o">=</span> <span class="k">new</span> <span class="n">StringBuilder</span><span class="o">();</span>
        <span class="k">for</span> <span class="o">(</span><span class="n">String</span> <span class="n">elem</span> <span class="o">:</span> <span class="n">input</span><span class="o">)</span>
            <span class="n">res</span><span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="n">elem</span><span class="o">).</span><span class="na">append</span><span class="o">(</span><span class="n">_separator</span><span class="o">);</span>
        <span class="n">res</span><span class="o">.</span><span class="na">deleteCharAt</span><span class="o">(</span><span class="n">res</span><span class="o">.</span><span class="na">length</span><span class="o">()</span> <span class="o">-</span> <span class="mi">1</span><span class="o">);</span>
        <span class="k">return</span> <span class="n">res</span><span class="o">.</span><span class="na">toString</span><span class="o">();</span>
    <span class="o">}</span></code></pre></figure>

<hr />

<p>If the log file is too large, it should be processed. If it is me, I would write a Python/Golang script.But today I was taught a new skill.You can just edit <strong>/etc/logrotate.conf</strong> file under Linux. compressing,Removing,time settings, various features…</p>

<hr />

<p>I’ve been reading <a href="http://120.25.204.125/">JStorm</a> source code recently, and there’s a block of code like this…kill the process 5 times…make sure the process be killed definitely(???</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">ensure_process_killed</span><span class="o">(</span><span class="n">Integer</span> <span class="n">pid</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">// in this function, just kill the process 5 times
</span>
        <span class="c1">// make sure the process be killed definitely
</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">5</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
            <span class="k">try</span> <span class="o">{</span>
                <span class="n">exec_command</span><span class="o">(</span><span class="s">"kill -9 "</span> <span class="o">+</span> <span class="n">pid</span><span class="o">);</span>
                <span class="n">LOG</span><span class="o">.</span><span class="na">info</span><span class="o">(</span><span class="s">"kill -9 process "</span> <span class="o">+</span> <span class="n">pid</span><span class="o">);</span>
                <span class="n">sleepMs</span><span class="o">(</span><span class="mi">100</span><span class="o">);</span>
            <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">ExecuteException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">LOG</span><span class="o">.</span><span class="na">info</span><span class="o">(</span><span class="s">"Error when trying to kill "</span> <span class="o">+</span> <span class="n">pid</span> <span class="o">+</span> <span class="s">". Process has been killed"</span><span class="o">);</span>
            <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">LOG</span><span class="o">.</span><span class="na">info</span><span class="o">(</span><span class="s">"Error when trying to kill "</span> <span class="o">+</span> <span class="n">pid</span> <span class="o">+</span> <span class="s">".Exception "</span><span class="o">,</span> <span class="n">e</span><span class="o">);</span>
            <span class="o">}</span>
        <span class="o">}</span>
    <span class="o">}</span></code></pre></figure>

<hr />

<p>The two concepts of <code class="highlighter-rouge">concurrency</code> and <code class="highlighter-rouge">parallelism</code> are often confused.Having a summary about it: concurrency is for the design of the program. (<strong>concurrency as a property of a program or system</strong>), a well-designed concurrent program allows the program to perform different tasks in overlapping time periods. Parallelism refers to the parallelism as the <strong>run-time behaviour of the multiple tasks at the same time</strong>. So if a concurrent program runs on a single cpu machine, it is still concurrent, but not parallel.</p>

<p>This Chinese article that explains the best is in [here] (https://laike9m.com/blog/huan-zai-yi-huo-bing-fa-he-bing-xing), English novel is a talk about Go language <a href="https://talks.golang.org/2012/concurrency.slide">slide</a></p>

<hr />

<p>There is a 600M+ CSV file, because I need to experiment with conversion reads, so just splitting it by size. But after that, the file is garbled and can’t be presented in a proper way.  <code class="highlighter-rouge">head -10</code> read out is fine. I also suspect that I didn’t add a suffix, but the text file is not binary file…finally I realized that I shouldn’t divide it by size… I should use <code class="highlighter-rouge">split -l</code> to divide by line so it is conveniet for subquent merge.</p>

<p><img src="/images/青蛙.jpg" alt="无话可说" /></p>

<hr />

<p>Using <code class="highlighter-rouge">numpy.asarray() and numpy.fromarray()</code> to convert between the image and the matrix. Adding random number interference in the middle will make the font distorted, but this is more suitable for the recognition of handwriting. If it is a print for the photo, the appropriate method is to rotate a certain angle with rotate(). But there will be some black space, so just use crop() to intercept it.</p>

<hr />

<p>Although <a href="http://docs.python-requests.org/en/master/">requests</a> have been used all the time, I realize it today: <a href="http://sh3ll.me/2014/06/18/python-requests-encoding/">requests-code-read-content-auto-encode</a>. The principle of <code class="highlighter-rouge">chardet</code> recognition encoding was also mentioned in the 《Fluent Python》 before, based on the frequency of occurrence of the character prefix.</p>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="n">In</span> <span class="p">[</span><span class="mi">7</span><span class="p">]:</span> <span class="n">chardet</span><span class="o">.</span><span class="n">detect</span><span class="p">(</span><span class="s">'No longer plagued by coding problems 2333ShakaLaka!!!'</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s">'GBK'</span><span class="p">))</span>
<span class="n">Out</span><span class="p">[</span><span class="mi">7</span><span class="p">]:</span> <span class="p">{</span><span class="s">'confidence'</span><span class="p">:</span> <span class="mf">0.99</span><span class="p">,</span> <span class="s">'encoding'</span><span class="p">:</span> <span class="s">'GB2312'</span><span class="p">}</span></code></pre></figure>

<hr />

<p>There is a <code class="highlighter-rouge">user option</code> under the supervisor project configuration to choose which user to start the command with. But you must use the root account to start the supervisor.</p>

<hr />

<p>Previously, this file was created with a Windows text editor instead of notepad++,newline is represented with ‘\r\n’;and newLine in Linux is represented with ‘\n’. In other words, <code class="highlighter-rouge">Unix uses 0xA for a newline character. Windows uses a combination of two characters: 0xD 0xA. 0xD is the carriage return character. ^M happens to be the way vim displays 0xD.</code> (Refer to [this] (http://stackoverflow.com/questions/5843495/what-does-m-character-mean-in-vim)). The solution in the context of Py2 is to read it and then use<code class="highlighter-rouge"> strip()</code> to process it once.</p>

<hr />

<p>Kafka’s UI is installed, and the final selection is Yahoo’s <a href="https://github.com/yahoo/kafka-manager">Kafka Manager</a>. But it uses JDK8 … detecting the amount of message per unit time. The final interface is okay, that is, the strong Bootstrap style:</p>

<p><img src="/images/KafkaUI.png" alt="KafkaUI" /></p>

<hr />

<ul>
  <li>If you want to delete log files,<code class="highlighter-rouge">rm -rf  &amp;&amp; touch</code> is not a good choise.Using  <code class="highlighter-rouge">&gt; ToDelete.log</code> instead</li>
</ul>

<hr />

<ul>
  <li>Recently we use a plugin [elasticsearch-sql] (https://github.com/NLPchina/elasticsearch-sql) so querying the ES in the same way as sql is possible. But if you do not specify the number of limit when using <code class="highlighter-rouge">select</code> query, the default is always 200</li>
</ul>

<hr />

<ul>
  <li>There was a <a href="https://www.zhihu.com/question/38331955">question</a>.Recently I’m just learning Scala,So I tried to solve it:</li>
</ul>

<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="k">var</span> <span class="n">boyfriendList</span> <span class="k">=</span> <span class="nc">Array</span><span class="o">.</span><span class="n">fill</span><span class="o">(</span><span class="mi">12</span><span class="o">)(</span><span class="mi">0</span><span class="o">)</span>

<span class="k">def</span> <span class="n">calculate</span><span class="o">(</span><span class="n">total</span><span class="k">:</span><span class="kt">Int</span><span class="o">=</span><span class="mi">0</span><span class="o">,</span><span class="n">freq</span><span class="k">:</span><span class="kt">Int</span><span class="o">=</span><span class="mi">0</span><span class="o">)</span><span class="k">:</span><span class="kt">Int</span> <span class="o">=</span> <span class="n">total</span> <span class="k">match</span> <span class="o">{</span>
    <span class="c1">// Using Pattern Matching
</span>    <span class="k">case</span> <span class="mi">12</span> <span class="k">=&gt;</span> <span class="o">{</span>
        <span class="n">println</span><span class="o">(</span><span class="n">s</span><span class="s">"Total number is $freq "</span><span class="o">)</span>
        <span class="n">freq</span>
    <span class="o">}</span>
    <span class="k">case</span> <span class="k">_</span> <span class="k">=&gt;</span> <span class="o">{</span>
        <span class="n">boyfriendList</span><span class="o">(</span><span class="n">nextInt</span><span class="o">(</span><span class="mi">12</span><span class="o">))</span> <span class="k">=</span> <span class="mi">1</span>
        <span class="n">calculate</span><span class="o">(</span><span class="n">boyfriendList</span><span class="o">.</span><span class="n">sum</span><span class="o">,</span><span class="n">freq</span><span class="o">+</span><span class="mi">1</span><span class="o">)</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="k">object</span> <span class="nc">Application</span> <span class="k">extends</span> <span class="nc">App</span> <span class="o">{</span>

    <span class="k">var</span> <span class="n">boyfriendList</span> <span class="k">=</span> <span class="nc">Array</span><span class="o">.</span><span class="n">fill</span><span class="o">(</span><span class="mi">12</span><span class="o">)(</span><span class="mi">0</span><span class="o">)</span>
    <span class="k">var</span> <span class="n">index</span> <span class="k">=</span> <span class="mi">1</span>
    <span class="k">var</span> <span class="n">count</span> <span class="k">=</span> <span class="mi">0</span>
    <span class="k">while</span><span class="o">(</span><span class="n">index</span><span class="o">&lt;=</span><span class="mi">50</span><span class="o">){</span>
        <span class="n">boyfriendList</span> <span class="k">=</span> <span class="nc">Array</span><span class="o">.</span><span class="n">fill</span><span class="o">(</span><span class="mi">12</span><span class="o">)(</span><span class="mi">0</span><span class="o">)</span>
        <span class="n">count</span> <span class="o">+=</span> <span class="n">calculate</span><span class="o">()</span>
        <span class="n">index</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="o">}</span>
    <span class="n">println</span><span class="o">(</span><span class="n">sum</span><span class="o">.</span><span class="n">toFloat</span><span class="o">/</span><span class="mi">50</span><span class="o">)</span>  <span class="o">//</span> <span class="mf">34.64</span></code></pre></figure>

<hr />

<p>The group is discussing a problem about catching crawlers. Some people mentioned that they can simulate a search engine and searched for it…it is really reasonable, see this article [Google Crawler] (https://support.google.com/ Webmasters/answer/1061943?hl=en) , configure <code class="highlighter-rouge">UA</code> to <code class="highlighter-rouge">Mozilla/5.0 (compatible; Googlebot/2.1; +http://www.google.com/bot.html)</code></p>

<hr />

<p>In Python 2.6, an output statement <code class="highlighter-rouge">print '{}'.format(1)</code> will report an error, indicating <code class="highlighter-rouge">ValueError: zero length field name in format</code>.You must indicate the order, <code class="highlighter-rouge">print '{0}'.format(1)</code> . Ah… even 2.7 and 2.6 can’t be fully compatible</p>

<hr />

<p>There is  a very interesting question today. The logging is in the form of <strong>pageName&amp;{key1:value1,key2:value2}</strong>. Usually, spliting(“&amp;”)[1] is used to get the JSON string and then using <code class="highlighter-rouge">get_json_object</code> to check it. However, if there is more than one “&amp;” in the value provided (such as the url containing the parameter), then the separator will produce a string with only <code class="highlighter-rouge">""</code>.So I wrote a <a href="https://cwiki.apache.org/confluence/display/Hive/LanguageManual+UDF">UDF:User Defined Function</a> to make the program robust.</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="cm">/**
 * 
 * input:String
 * output:JSON-like Object
 */</span>

<span class="kn">import</span> <span class="nn">org.apache.hadoop.hive.ql.exec.UDF</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">dealJSONWithUrl</span> <span class="kd">extends</span> <span class="n">UDF</span> <span class="o">{</span>
    <span class="c1">// handling cases where url contains &amp; can't be split with split("&amp;")
</span>
    <span class="kd">public</span> <span class="n">String</span> <span class="nf">evaluate</span><span class="o">(</span><span class="n">String</span> <span class="n">input</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">if</span> <span class="o">(!</span><span class="n">input</span><span class="o">.</span><span class="na">contains</span><span class="o">(</span><span class="s">"&amp;"</span><span class="o">))</span>
            <span class="k">return</span> <span class="n">input</span><span class="o">;</span>
        <span class="n">String</span><span class="o">[]</span> <span class="n">temp</span> <span class="o">=</span> <span class="n">input</span><span class="o">.</span><span class="na">split</span><span class="o">(</span><span class="s">"&amp;"</span><span class="o">);</span>
        <span class="n">StringBuilder</span> <span class="n">builder</span> <span class="o">=</span> <span class="k">new</span> <span class="n">StringBuilder</span><span class="o">();</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">temp</span><span class="o">.</span><span class="na">length</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">i</span> <span class="o">!=</span> <span class="n">temp</span><span class="o">.</span><span class="na">length</span> <span class="o">-</span> <span class="mi">1</span><span class="o">)</span>
                <span class="n">builder</span><span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="n">temp</span><span class="o">[</span><span class="n">i</span><span class="o">]).</span><span class="na">append</span><span class="o">(</span><span class="s">"&amp;"</span><span class="o">);</span>
            <span class="k">else</span>
                <span class="n">builder</span><span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="n">temp</span><span class="o">[</span><span class="n">i</span><span class="o">]);</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="n">builder</span><span class="o">.</span><span class="na">toString</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span></code></pre></figure>

<hr />

<p>There are always some very tricky issues with crontab… Today my case is to use <code class="highlighter-rouge">redis-cli</code> to operate some instructions . When using the data, you can’t use <code class="highlighter-rouge">redis-cli</code> directly in the shell script, but you must use the Absolute path. there was also  a Python program which always didn’t work properly. The final reason is because <code class="highlighter-rouge">os.chdir('..')</code> is used in script file. You need to use  <code class="highlighter-rouge">cd</code> to enter into the target directory at first. There are  a lot of people who have stepped on this pit…such as <a href="https://www.digitalocean.com/community/questions/unable-to-execute-a-python-script-via-crontab-but-can -execute-it-manually-what-gives">unable-to-execute-a-python-script-via-crontab-but-can-execute-it-manually-what-gives</a>…The ability to specify <code class="highlighter-rouge">Directory</code> in supervisor is so wonderful by contrast</p>

<hr />

<p>For a while, the Sogou input method will inexplicably collapse, and suddenly it is impossible to input Chinese. I am uncapable of analyzing the source code,so just write a script like<code class="highlighter-rouge">alias sogou='pkill sogou-qimpanel &amp;&amp; fcitx &amp;&amp; sogou-qimpanel&amp;'</code> restart when there is a crash</p>

<hr />

<p>Using <code class="highlighter-rouge">row_number() over</code> to query group，and identifying it by row_id</p>

<hr />

<p>In the past I always  use <code class="highlighter-rouge">ssh-copy-id</code> to configure password-free login, generally set an alias in bash, such as <code class="highlighter-rouge">ssh-75='ssh root@10.10.8.75'</code>.today I learned a new skill today,you can directly match a config file in <code class="highlighter-rouge">~/.ssh.</code>. Take a look at <a href="https://www.cyberciti.biz/faq/create-ssh-config-file-on-linux-unix/">create-ssh-config-file-on-linux-unit</a></p>

<hr />

<p>The favorite command line tool on ubuntu is <code class="highlighter-rouge">guake</code>, using <code class="highlighter-rouge">F12</code> to call it with a single click, and using <code class="highlighter-rouge">tmux</code> to split screen.They are perfect couples. sometimes guake will suddenly become blank It’s fine to kill the process at this time, and some of the programs that were run before will still run. Of course, Programs like <code class="highlighter-rouge">shadowsocks</code> will remind you that the port is occupied, but <code class="highlighter-rouge">openvpn</code> will not tell you there is already an instance running.Reopening one will make you be kicked on the server…</p>

<hr />

<p>using a function of pip today.Downloading all the dependencies of the project and did not install it: <code class="highlighter-rouge">pip install --download /path module_name</code>,after uploading the file into a non-network-connect server, execute <code class="highlighter-rouge">pip insall --no-index -f /path module_name</code> to install</p>

<hr />

<p>It is also a problem with Hive time….. When the unix_timestamp is converted, if the time format is like <code class="highlighter-rouge">2016-06-27 11:00</code>, because there is no second, it is actually impossible to convert. But it  will not report an error when it is queried, so it will never have a satisfactory result. one solution is to query after using concat() to connect to <code class="highlighter-rouge">':', '00'</code> which will not affect the time.</p>

<hr />

<p>Java’s <a href="https://github.com/xetorthio/jedis">jedis</a> can only use <code class="highlighter-rouge">select</code> to select the library after getResource() gets the instance, but Python’s <a href="https://redislabs.com/lp/python-redis/">redis client</a> can be specified in the constructor.</p>

<hr />

<p>For Hive,if there are different time formats on different tables,you should convert like this:<code class="highlighter-rouge">from_unixtime(unix_timestamp('20160521','yyyyMMdd'),'yyyy-MM-dd')</code></p>

<hr />

<p>Writing a script that simulates logging into the Academic Affairs Office. After downloading the verification code and entering it into the command line… There is no flag that clearly shows the login result. Finally, I found that I can use the <code class="highlighter-rouge">Content-Type</code> of the return header to judge. if suffix is <code class="highlighter-rouge">gb2312</code> , logging is successful;if suffix is <code class="highlighter-rouge">GBK</code>,if failed. I wanted to analyze the class list again, but found that the result of the post request is a js function…so difficult to be parsed.And its login logic is not complete. After filling in a verification code, you can try to log in multiple times. According to initial rules, if you still have a six-digit password, you can definitely break the password after running up to 1000000 times,
<img src="/images/lesson-course-list.jpg" alt="lesson-course-list" />
<img src="/images/brute-force.jpg" alt="brute-force" /></p>

<hr />

<p>Installing Ubuntu image on VMWare encountered the problem that the desktop could not display the sidebar and top bar. Finally, it was solved by ccsm (<code class="highlighter-rouge">sudo apt-get install ccsm</code>, execute the software, and select Unity, execute, shutdown and restart)</p>

<hr />

<!-- 数万人的流离失所比不上一张孩童溺水的照片所引起的影响力大。心理学的理论再一次得到了令人心悸的验证。 -->

<!-- @tombkeeper 曾经在微博上发过这样一条状态： 很多人都想师从名家，但优秀的老师往往也很难容忍甘于平庸和疏于自律的学生。如果你没做好努力上几年的准备，也许一开始就不该选这样的老师  时时转发自省 -->

<!--
说好的出国已经成为泡影，整个的职业生涯规划都要因此改变。

《The House Of Cards》第一季第一季里Frank说"Never again will I allow me to be put into such a position"；

《TGW》里Alicia在独立办律所后向Cary大吼“You know what? go to hell"；

好多事情，只有亲身经历才能知道。高中时所犯的错误，以后绝不会再犯。

无限的沉迷于手机信息流的feed,no struggle for what you want，too care about others,and gain nearly nothing now,the body engineering.

The Promised Land.
-->

<!--Thanks for your advice  
All options are open to me
I will decide during the next 48 hours
-->

<!-- 本来在原著中是非常小的一段描写”石墩出动“，在电影中是非常壮观的一个场景。”Hogwarts is threatened.man the boundary,do the duty to our school"-->

<!--
每个人心里都有一个方向，由DNA所引发，一直到20岁都会持续变化，就是你所经历的事、遇到的人、走路的路，就是摩西所说的“promised land"。它的翻译“必见辽阔之地”一直被我认为是最好的翻译之一。在你经历过一天之后，你会清醒的知道它是否有助于你实现你的目标，即便你的潜意识里在否认。
-->

<!--
    * 2015.07.04 星期六

很少想到有一天压力竟然能这么大……

跑了5圈就已经受不了了。
-->

<p>Previously, when using Intellij IDEA and Pycharm, the theme from <a href="http://www.ideacolorthemes.org/home/">Intellij theme</a> has been used. Although the color matching is very good, it still has a gap with Sublime Text. I modified the color of the Line Comment, changing it to RGB (138, 130, 107).The color of the comment is light gray, and it is easier to distinguish it from the text. Sending an email to the original author,the email is sent back in seconds.</p>

<p><img src="/images/contact.JPG" alt="Email And Send" /></p>

<hr />

<p>Jkeyll even does not support the categories/tags collection under Pagination</p>

<blockquote>
  <p>Pagination does not support tags or categories.Pagination pages through every post in the posts variable regardless of variables defined in the YAML Front Matter of each. It does not currently allow paging over groups of posts linked by a common tag or category. It cannot include any collection of documents because it is restricted to posts.</p>
</blockquote>


  </div>

</article>

        
<div id="disqus_thread"></div>
    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'allianzcortex-me'; // required: replace example with your forum shortname
        // var disqus_developer = 1; // Comment out when the site is live
        var disqus_identifier = "/2014/11/21/some-techniques/";

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>



    </main>
    <footer class="site-footer">

  <div class="wrapper">

    <p>
      

Pro Land
    </p>

  </div>

</footer>


  </body>

</html>
