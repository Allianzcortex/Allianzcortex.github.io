<!DOCTYPE html>

<html lang="en">

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  
  
  <title>《Scala For Impatient》的习题和 Scala 99 的一些题解记录</title>
  <meta name="description" content="《Scala For Impatient》的习题和 Scala 99 的一些题解记录 Scala 的语法的复杂度堪比 C++ …… 《Scala CookBook》的作者评价 Java 这门语法的特性是 Verbose yet obvious，这是见过的最好对 Java 这门语言的描述了。正是因为 obvious 的特性，才能在工业级开发领域中遥遥领先，Web 开发/Android/数据领域都占据主要地位。也正是因为 verbose 的特性，让写 Java 写多的人很容易产生啰嗦的感觉，相比于 Python 的话对比感就更强烈了。 现在来看 Kotlin 的定位更像是 Better Java，字节码被翻译成 Java 类型，无缝调用 Java 的所有库，语法更简洁。 Scala 则是对 Java 很好的一个改进，同样基于 JVM 平台。Scala 的官网上宣传 OO meets FP，它同时融合了面向对象和函数式编程的优点。就像很多人说的，没有必要把 Scala 的语法完全了解以后再去用它。要用 Spark，要看 Kafka，直接看就好了：-D Scala 学习的时候主要分为两方面吧： Array/List/Seq 等一系列 Immutable 与 Mutable 对象，对应的 take/filter/map/flatMap/reduce/head/tail/init 等可以提高开发效率的方法 class/case class/object/trait 等新的 OO 相关内容 关于水平掌握，达到 A3/L2 。 最近做了 Scala99 里面的一些题目，试着做一些摘抄，里面有些题目提出了和原来的一些不一样的方法 第 17 题： ** 要求 ** 把一个 List 分为两个部分 网站上提供了 ls.splitAt(n) 和直接返回 (ls.take(n),ls.drop(n)) 两种方法 自己的实现： def splitToTwoPart[A](n: Int, ls: List[A]) = { val s = ls.zipWithIndex.partition(elem =&amp;gt; elem._2 + 1 &amp;lt;= n) (s._1.map(x =&amp;gt; x._1), s._2.map(x =&amp;gt; x._1)) } 关于类的部分：算是实现了一个小的 demo 吧 import collection.mutable.ArrayBuffer case class Record(var event: String, var money: Int) { def this() = this(&quot;sample&quot;, 1) } trait People { var name: String var age: Int var activity: ArrayBuffer[Record] def addRecord(newEvent: String, newMoney: Int) def removeRecord(deleteName: String, deleteMoney: Int) // 这也行，也就是说 def getAllCost } class User(userName: String, userAge: Int) extends People { var name = userName var age = userAge var activity = new ArrayBuffer[Record] def addRecord(newEvent: String, newMoney: Int) = { this.activity += Record(newEvent, newMoney) } /*def addRecord={ }*/ def removeRecord(deleteName: String, deleteMoney: Int) = { val targetRecord = Record(deleteName, deleteMoney) /*if this.activity.exists(_ == targetRecord) this.activity -= targetRecord*/ } def getAllCost() = { this.activity.foreach(x=&amp;gt;println(x.money)) println(&quot;money &quot; + this.activity.map(_.money).reduceLeft(_+_)) this.activity.map(_.money).reduceLeft(_+_) //所以自己一开始的 reduce((x,y)=&amp;gt;x.money+y.money)) 思路是错的，你看，前两个得到的结果是 Record,但之后得到的是 Int // 再之后就会在 Record 和 Int 之间产生冲突 } def getActivity(): List[Record] = { // 返回的 Array 必须是有类型的，而不能是 Array // List 也是一样的道理。并且 List 的可读性更好 this.activity.toList } override def toString = s&quot;$name $age&quot; } object testApplication extends App { val u = new User(&quot;Tom&quot;, 18) u.addRecord(&quot;Buy Clothes&quot;, 10) println(u) println(&quot;用户的活动为 &quot; + u.getActivity()) println(u.activity.toList) println(u.getActivity()) println(u.getAllCost()) } 在附录部分再总结一下 Scala 方法的集合：">
  

  <link rel="stylesheet" href="/assets/main.css">
  <link rel="canonical" href="http://localhost:4000/2017/05/21/Scala-99-Solution/">
  
  
  <link rel="alternate" type="application/rss+xml" title="Allianzcortex-Blog" href="http://localhost:4000/feed.xml">

  

  
  <meta name="twitter:card" content="summary">
  <meta name="twitter:site" content="hzcortex">
  <meta name="twitter:title" content="《Scala For Impatient》的习题和 Scala 99 的一些题解记录">
  <meta name="twitter:description" content="《Scala For Impatient》的习题和 Scala 99 的一些题解记录 Scala 的语法的复杂度堪比 C++ …… 《Scala CookBook》的作者评价 Java 这门语法的特性是 Verbose yet obvious，这是见过的最好对 Java 这门语言的描述了。正是因为 obvious 的特性，才能在工业级开发领域中遥遥领先，Web 开发/Android/数据领域...">
  
    <meta name="twitter:creator" content="hzcortex">
  
  

  <script type="text/javascript">
  WebFontConfig = {
    google: { families: [ 'Bitter:400,700,400italic:latin' ] }
  };
  (function() {
    var wf = document.createElement('script');
    wf.src = ('https:' == document.location.protocol ? 'https' : 'http') +
      '://ajax.googleapis.com/ajax/libs/webfont/1/webfont.js';
    wf.type = 'text/javascript';
    wf.async = 'true';
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(wf, s);
  })();
</script>

  

</head>


  <body>

    <header class="site-header">

  <div class="wrapper">

    <a class="site-title" href="/">Allianzcortex-Blog</a>

    <nav class="site-nav">
      
        
        <a class="page-link" href="/archives/">Archives</a>
      
        
        <a class="page-link" href="/projects/">Projects</a>
      
        
        <a class="page-link" href="/about/">About</a>
      
        
        <a class="page-link" href="/board/">board</a>
      
        
        <a class="page-link" href="/feed.xml">RSS</a>
      
    </nav>

  </div>

</header>


    <main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    
      <h1 class="post-title" itemprop="name headline">《Scala For Impatient》的习题和 Scala 99 的一些题解记录</h1>
    
    <p class="post-meta"><time datetime="2017-05-21T10:29:10-03:00" itemprop="datePublished">May 21, 2017</time> • 
  
  

</p>
  </header>

  <div class="post-content" itemprop="articleBody">
    <p>《Scala For Impatient》的习题和 Scala 99 的一些题解记录</p>

<!-- more -->

<p>Scala 的语法的复杂度堪比 C++ ……</p>

<p>《Scala CookBook》的作者评价 Java 这门语法的特性是 <code class="highlighter-rouge">Verbose yet obvious</code>，这是见过的最好对 Java 这门语言的描述了。正是因为 obvious 的特性，才能在工业级开发领域中遥遥领先，Web 开发/Android/数据领域都占据主要地位。也正是因为 verbose 的特性，让写 Java 写多的人很容易产生啰嗦的感觉，相比于 Python 的话对比感就更强烈了。</p>

<blockquote>
  <p>现在来看 Kotlin 的定位更像是 Better Java，字节码被翻译成 Java 类型，无缝调用 Java 的所有库，语法更简洁。</p>
</blockquote>

<p>Scala 则是对 Java 很好的一个改进，同样基于 JVM 平台。Scala 的官网上宣传 OO meets FP，它同时融合了面向对象和函数式编程的优点。就像很多人说的，没有必要把 Scala 的语法完全了解以后再去用它。要用 Spark，要看 Kafka，直接看就好了：-D</p>

<p>Scala 学习的时候主要分为两方面吧：</p>

<ul>
  <li>
    <p>Array/List/Seq 等一系列 Immutable 与 Mutable 对象，对应的 take/filter/map/flatMap/reduce/head/tail/init 等可以提高开发效率的方法</p>
  </li>
  <li>
    <p>class/case class/object/trait 等新的 OO 相关内容</p>
  </li>
</ul>

<p>关于水平掌握，达到 A3/L2 。</p>

<p>最近做了 Scala99 里面的一些题目，试着做一些摘抄，里面有些题目提出了和原来的一些不一样的方法</p>

<ul>
  <li>第 17 题：</li>
</ul>

<p>** 要求 ** 把一个 List 分为两个部分</p>

<ul>
  <li>
    <p>网站上提供了 ls.splitAt(n) 和直接返回 (ls.take(n),ls.drop(n)) 两种方法</p>
  </li>
  <li>
    <p>自己的实现：</p>
  </li>
</ul>

<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="k">def</span> <span class="n">splitToTwoPart</span><span class="o">[</span><span class="kt">A</span><span class="o">](</span><span class="n">n</span><span class="k">:</span> <span class="kt">Int</span><span class="o">,</span> <span class="n">ls</span><span class="k">:</span> <span class="kt">List</span><span class="o">[</span><span class="kt">A</span><span class="o">])</span> <span class="k">=</span> <span class="o">{</span>
    <span class="k">val</span> <span class="n">s</span> <span class="k">=</span> <span class="n">ls</span><span class="o">.</span><span class="n">zipWithIndex</span><span class="o">.</span><span class="n">partition</span><span class="o">(</span><span class="n">elem</span> <span class="k">=&gt;</span> <span class="n">elem</span><span class="o">.</span><span class="n">_2</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">&lt;=</span> <span class="n">n</span><span class="o">)</span>
    <span class="o">(</span><span class="n">s</span><span class="o">.</span><span class="n">_1</span><span class="o">.</span><span class="n">map</span><span class="o">(</span><span class="n">x</span> <span class="k">=&gt;</span> <span class="n">x</span><span class="o">.</span><span class="n">_1</span><span class="o">),</span> <span class="n">s</span><span class="o">.</span><span class="n">_2</span><span class="o">.</span><span class="n">map</span><span class="o">(</span><span class="n">x</span> <span class="k">=&gt;</span> <span class="n">x</span><span class="o">.</span><span class="n">_1</span><span class="o">))</span>
<span class="o">}</span></code></pre></figure>

<p>关于类的部分：算是实现了一个小的 demo 吧</p>

<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="k">import</span> <span class="nn">collection.mutable.ArrayBuffer</span>

<span class="k">case</span> <span class="k">class</span> <span class="nc">Record</span><span class="o">(</span><span class="k">var</span> <span class="n">event</span><span class="k">:</span> <span class="kt">String</span><span class="o">,</span> <span class="k">var</span> <span class="n">money</span><span class="k">:</span> <span class="kt">Int</span><span class="o">)</span> <span class="o">{</span>
  <span class="k">def</span> <span class="k">this</span><span class="o">()</span> <span class="k">=</span> <span class="k">this</span><span class="o">(</span><span class="s">"sample"</span><span class="o">,</span> <span class="mi">1</span><span class="o">)</span>
<span class="o">}</span>


<span class="k">trait</span> <span class="nc">People</span> <span class="o">{</span>
  <span class="k">var</span> <span class="n">name</span><span class="k">:</span> <span class="kt">String</span>
  <span class="k">var</span> <span class="n">age</span><span class="k">:</span> <span class="kt">Int</span>
  <span class="k">var</span> <span class="n">activity</span><span class="k">:</span> <span class="kt">ArrayBuffer</span><span class="o">[</span><span class="kt">Record</span><span class="o">]</span>

  <span class="k">def</span> <span class="n">addRecord</span><span class="o">(</span><span class="n">newEvent</span><span class="k">:</span> <span class="kt">String</span><span class="o">,</span> <span class="n">newMoney</span><span class="k">:</span> <span class="kt">Int</span><span class="o">)</span>

  <span class="k">def</span> <span class="n">removeRecord</span><span class="o">(</span><span class="n">deleteName</span><span class="k">:</span> <span class="kt">String</span><span class="o">,</span> <span class="n">deleteMoney</span><span class="k">:</span> <span class="kt">Int</span><span class="o">)</span> <span class="c1">// 这也行，也就是说
</span>
  <span class="k">def</span> <span class="n">getAllCost</span>
<span class="o">}</span>

<span class="k">class</span> <span class="nc">User</span><span class="o">(</span><span class="n">userName</span><span class="k">:</span> <span class="kt">String</span><span class="o">,</span> <span class="n">userAge</span><span class="k">:</span> <span class="kt">Int</span><span class="o">)</span> <span class="k">extends</span> <span class="nc">People</span> <span class="o">{</span>
  <span class="k">var</span> <span class="n">name</span> <span class="k">=</span> <span class="n">userName</span>
  <span class="k">var</span> <span class="n">age</span> <span class="k">=</span> <span class="n">userAge</span>
  <span class="k">var</span> <span class="n">activity</span> <span class="k">=</span> <span class="k">new</span> <span class="nc">ArrayBuffer</span><span class="o">[</span><span class="kt">Record</span><span class="o">]</span>

  <span class="k">def</span> <span class="n">addRecord</span><span class="o">(</span><span class="n">newEvent</span><span class="k">:</span> <span class="kt">String</span><span class="o">,</span> <span class="n">newMoney</span><span class="k">:</span> <span class="kt">Int</span><span class="o">)</span> <span class="k">=</span> <span class="o">{</span>
    <span class="k">this</span><span class="o">.</span><span class="n">activity</span> <span class="o">+=</span> <span class="nc">Record</span><span class="o">(</span><span class="n">newEvent</span><span class="o">,</span> <span class="n">newMoney</span><span class="o">)</span>
  <span class="o">}</span>

  <span class="cm">/*def addRecord={

  }*/</span>

  <span class="k">def</span> <span class="n">removeRecord</span><span class="o">(</span><span class="n">deleteName</span><span class="k">:</span> <span class="kt">String</span><span class="o">,</span> <span class="n">deleteMoney</span><span class="k">:</span> <span class="kt">Int</span><span class="o">)</span> <span class="k">=</span> <span class="o">{</span>
    <span class="k">val</span> <span class="n">targetRecord</span> <span class="k">=</span> <span class="nc">Record</span><span class="o">(</span><span class="n">deleteName</span><span class="o">,</span> <span class="n">deleteMoney</span><span class="o">)</span>
    <span class="cm">/*if this.activity.exists(_ == targetRecord) this.activity -= targetRecord*/</span>
  <span class="o">}</span>

  <span class="k">def</span> <span class="n">getAllCost</span><span class="o">()</span> <span class="k">=</span> <span class="o">{</span>
    <span class="k">this</span><span class="o">.</span><span class="n">activity</span><span class="o">.</span><span class="n">foreach</span><span class="o">(</span><span class="n">x</span><span class="k">=&gt;</span><span class="n">println</span><span class="o">(</span><span class="n">x</span><span class="o">.</span><span class="n">money</span><span class="o">))</span>
    <span class="n">println</span><span class="o">(</span><span class="s">"money "</span> <span class="o">+</span> <span class="k">this</span><span class="o">.</span><span class="n">activity</span><span class="o">.</span><span class="n">map</span><span class="o">(</span><span class="k">_</span><span class="o">.</span><span class="n">money</span><span class="o">).</span><span class="n">reduceLeft</span><span class="o">(</span><span class="k">_</span><span class="o">+</span><span class="k">_</span><span class="o">))</span>
    <span class="k">this</span><span class="o">.</span><span class="n">activity</span><span class="o">.</span><span class="n">map</span><span class="o">(</span><span class="k">_</span><span class="o">.</span><span class="n">money</span><span class="o">).</span><span class="n">reduceLeft</span><span class="o">(</span><span class="k">_</span><span class="o">+</span><span class="k">_</span><span class="o">)</span>
    <span class="c1">//所以自己一开始的 reduce((x,y)=&gt;x.money+y.money)) 思路是错的，你看，前两个得到的结果是 Record,但之后得到的是 Int
</span>    <span class="c1">// 再之后就会在 Record 和 Int 之间产生冲突
</span>  <span class="o">}</span>

  <span class="k">def</span> <span class="n">getActivity</span><span class="o">()</span><span class="k">:</span> <span class="kt">List</span><span class="o">[</span><span class="kt">Record</span><span class="o">]</span> <span class="k">=</span> <span class="o">{</span>
    <span class="c1">// 返回的 Array 必须是有类型的，而不能是 Array
</span>    <span class="c1">// List 也是一样的道理。并且 List 的可读性更好
</span>    <span class="k">this</span><span class="o">.</span><span class="n">activity</span><span class="o">.</span><span class="n">toList</span>
  <span class="o">}</span>

  <span class="k">override</span> <span class="k">def</span> <span class="n">toString</span> <span class="k">=</span> <span class="n">s</span><span class="s">"$name $age"</span>

<span class="o">}</span>

<span class="k">object</span> <span class="nc">testApplication</span> <span class="k">extends</span> <span class="nc">App</span> <span class="o">{</span>
  <span class="k">val</span> <span class="n">u</span> <span class="k">=</span> <span class="k">new</span> <span class="nc">User</span><span class="o">(</span><span class="s">"Tom"</span><span class="o">,</span> <span class="mi">18</span><span class="o">)</span>
  <span class="n">u</span><span class="o">.</span><span class="n">addRecord</span><span class="o">(</span><span class="s">"Buy Clothes"</span><span class="o">,</span> <span class="mi">10</span><span class="o">)</span>
  <span class="n">println</span><span class="o">(</span><span class="n">u</span><span class="o">)</span>
  <span class="n">println</span><span class="o">(</span><span class="s">"用户的活动为 "</span> <span class="o">+</span> <span class="n">u</span><span class="o">.</span><span class="n">getActivity</span><span class="o">())</span>
  <span class="n">println</span><span class="o">(</span><span class="n">u</span><span class="o">.</span><span class="n">activity</span><span class="o">.</span><span class="n">toList</span><span class="o">)</span>
  <span class="n">println</span><span class="o">(</span><span class="n">u</span><span class="o">.</span><span class="n">getActivity</span><span class="o">())</span>
  <span class="n">println</span><span class="o">(</span><span class="n">u</span><span class="o">.</span><span class="n">getAllCost</span><span class="o">())</span>
<span class="o">}</span></code></pre></figure>

<hr />

<p>在附录部分再总结一下 Scala 方法的集合：</p>


  </div>

</article>

        
<div id="disqus_thread"></div>
    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'allianzcortex-me'; // required: replace example with your forum shortname
        // var disqus_developer = 1; // Comment out when the site is live
        var disqus_identifier = "/2017/05/21/Scala-99-Solution/";

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>



    </main>
    <footer class="site-footer">

  <div class="wrapper">

    <p>
      

Pro Land
    </p>

  </div>

</footer>


  </body>

</html>
